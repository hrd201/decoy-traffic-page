# 2026-02-12

- User reported OpenClaw Control UI remote access errors and Telegram bot connection failure.
- Diagnosed from logs:
  - `disconnected (1008): control ui requires HTTPS or localhost (secure context)` when opening via `http://nf.u2000.win:88`.
  - After switching to HTTPS, `origin not allowed` because `https://nf.u2000.win:88` was missing from `gateway.controlUi.allowedOrigins`.
  - Telegram channel failures were `404 Not Found` (`getMe`, `setMyCommands`, `deleteMyCommands`) due to placeholder bot token.
- Updated `~/.openclaw/openclaw.json`:
  - `gateway.controlUi.allowedOrigins` now includes `https://nf.u2000.win:88` plus existing origins.
- Post-change behavior:
  - Origin mismatch issue resolved.
  - New UI error became `unauthorized: gateway token missing`, indicating user must enter gateway token in Control UI.
  - Telegram still requires replacing placeholder `channels.telegram.botToken` with real BotFather token.

- Follow-up fixes completed:
  - Replaced `channels.telegram.botToken` with user-provided valid token; hot reload applied and Telegram provider restarted (`@hrd201pc_bot`).
  - Replaced placeholder `gateway.auth.token` with a generated token to keep auth mode as `token`.
  - Control UI connection then failed with `pairing required` (`reason: not-paired`) until device approval.
  - Approved pending Control UI device via `openclaw devices approve 6b29c08f-604f-44e1-97b2-d47acdbed2ec`.
  - Verified successful UI connection in logs: `device pairing approved ... role=operator` and `webchat connected ... client=openclaw-control-ui`.

- Telegram responsiveness tuning:
  - Investigated repeated pairing-related handshake failures in logs (`1008 pairing required`).
  - Adjusted Telegram DM handling from `dmPolicy: allowlist` to `dmPolicy: pairing` to restore first-contact interaction flow.
  - Next expected step is user-side message test in Telegram and code approval if a pairing code is returned.
